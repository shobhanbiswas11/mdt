{"version":3,"sources":["calculations.js","InputCell.js","TableRows.js","Table.js","components/MDT.js","components/SimpleTabs.js","functions/stiffnessCalc.js","components/SFDFCalculationShow.js","components/Stiffness.js","App.js","index.js"],"names":["addArr","arr","reduce","acc","curr","parseFloat","balance","row","dfs","chunk","newRow","forEach","col","i","leftDf","rightDf","leftMoment","rightMoment","push","slice","flattenDeep","length","carryOver","chain","map","pair","left","flatMapDeep","value","InputCell","valueArr","handleChange","useContext","globalContext","className","v","TextField","type","onChange","bind","variant","size","Cell","TableRows","rows","sum","index","cell","Table","getDFs","getFEMs","d","initialFEMS","initialDFS","MDT","useState","setDfs","fems","setFems","precision","setPrecision","valueWithIndex","item","calculateRows","lastRow","action","Provider","updater","e","prevValue","target","digit","round","fem","rowsAddition","Box","my","textAlign","ButtonGroup","color","Button","onClick","produce","draft","splice","TabPanel","props","children","other","role","hidden","id","aria-labelledby","p","useStyles","makeStyles","theme","root","flexGrow","backgroundColor","palette","background","paper","SimpleTabs","tabs","label","content","classes","React","setValue","AppBar","position","Tabs","event","newValue","aria-label","tab","Tab","calculateInertia","width","depth","Math","pow","calculateStiffness","SFDFCalculationShow","inputs","beamLengths","name","stiffness","beam","String","fromCharCode","sf","colStiffness","find","f","beams","filter","reducer","df","leftToRight","rightToLeft","reverse","b","split","join","calculateDF","toExponential","s","ceil","Object","keys","nextChar","c","at","charCodeAt","InputGroup","htmlFor","NodeLine","Beam","Stiffness","setInputs","setDiagramFor","setBeamLengths","n","Array","generate","getSpanCount","handleBeamInputChange","handleInputChange","field","newSpanCount","parseInt","pop","input","bl","createContext","App","Container","maxWidth","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.03ae4329.chunk.js","sourcesContent":["import { chain, chunk, flattenDeep, slice } from \"lodash\";\n\nfunction addArr(arr) {\n  return arr.reduce((acc, curr) => acc + parseFloat(curr), 0);\n}\n\nexport function balance(row, dfs) {\n  row = chunk([0, ...row, 0], 2);\n  dfs = chunk([0, ...dfs, 0], 2);\n\n  const newRow = [];\n\n  row.forEach((col, i) => {\n    const leftDf = dfs[i][0];\n    const rightDf = dfs[i][1];\n\n    const leftMoment = leftDf * addArr(col) * -1;\n    const rightMoment = rightDf * addArr(col) * -1;\n\n    newRow.push([leftMoment, rightMoment]);\n  });\n\n  return slice(flattenDeep(newRow), 1, flattenDeep(newRow).length - 1);\n}\n\nexport function carryOver(row) {\n  function calc(pair) {\n    const left = pair[0];\n    const right = pair[1];\n\n    return [right / 2, left / 2];\n  }\n\n  return chain(row).chunk(2).map(calc).flatMapDeep().value();\n}\n","import { TextField } from \"@material-ui/core\";\nimport React, { useContext } from \"react\";\nimport { globalContext } from \"./App\";\n\nfunction InputCell({ valueArr }) {\n  const { handleChange } = useContext(globalContext);\n\n  return (\n    <td>\n      <div className=\"t-cell\">\n        {valueArr.map((v, i) => {\n          return (\n            <div key={v + i}>\n              <TextField\n                type=\"text\"\n                value={v.value}\n                onChange={handleChange.bind(null, v)}\n                variant=\"outlined\"\n                size=\"small\"\n              />\n            </div>\n          );\n        })}\n      </div>\n    </td>\n  );\n}\n\nexport default InputCell;\n","import React, { useContext } from \"react\";\nimport { globalContext } from \"./App\";\n\nfunction Cell({ valueArr }) {\n  return (\n    <td>\n      <div className=\"t-cell\">\n        {valueArr.map((col, i) => (\n          <div key={valueArr + i}>{col}</div>\n        ))}\n      </div>\n    </td>\n  );\n}\n\nexport default function TableRows() {\n  let { rows, sum } = useContext(globalContext);\n\n  function balanceOrCarry(index) {\n    if (index % 2 === 0) return \"Balance\";\n    return \"Carry Over\";\n  }\n\n  return (\n    <>\n      {rows.map((row, i) => (\n        <tr>\n          <td className=\"left-heading\">{balanceOrCarry(i)}</td>\n          {row.map((cell) => (\n            <Cell valueArr={cell} />\n          ))}\n        </tr>\n      ))}\n      <tr className=\"sum\">\n        <td>Sum</td>\n        {sum.map((cell, i) => (\n          <Cell valueArr={cell} />\n        ))}\n      </tr>\n    </>\n  );\n}\n","import React, { useContext } from \"react\";\nimport { globalContext } from \"./App\";\nimport InputCell from \"./InputCell\";\nimport TableRows from \"./TableRows\";\n\nexport default function Table() {\n  const { getDFs, getFEMs } = useContext(globalContext);\n\n  return (\n    <table>\n      <tbody>\n        <tr>\n          <td className=\"left-heading\">Distribution Factor</td>\n          {getDFs().map((d, i) => (\n            <InputCell valueArr={d} key={i} />\n          ))}\n        </tr>\n        <tr>\n          <td className=\"left-heading\">FEM</td>\n          {getFEMs().map((d, i) => (\n            <InputCell valueArr={d} key={i} />\n          ))}\n        </tr>\n        <TableRows />\n      </tbody>\n    </table>\n  );\n}\n","import { Box, Button, ButtonGroup } from \"@material-ui/core\";\nimport produce from \"immer\";\nimport { chain, chunk, round } from \"lodash\";\nimport React, { useState } from \"react\";\nimport { globalContext } from \"../App\";\nimport { balance, carryOver } from \"../calculations\";\nimport Table from \"../Table\";\n\n// const fem = [\n// [0, -1.6],\n// [1.6, -6],\n// [6, -8],\n// [4, 0],\n// ];\n// const dfs = [\n//   [0, 0],\n//   [0.6, 0.4],\n//   [0.5, 0.5],\n//   [0, 0],\n// ];\nconst initialFEMS = [0, 0, 0, 0, 0, 0];\nconst initialDFS = [0, 0.5, 0.5, 0.5, 0.5, 0];\nconst initialPrecision = 5;\n\nfunction MDT() {\n  const [dfs, setDfs] = useState(initialDFS);\n  const [fems, setFems] = useState(initialFEMS);\n  const [precision, setPrecision] = useState(initialPrecision);\n\n  function valueWithIndex(arr) {\n    return arr.map((item, i) => ({ index: i, value: item }));\n  }\n\n  function getDFs() {\n    return chunk(\n      valueWithIndex(dfs).map((v) => ({ ...v, updater: setDfs })),\n      2\n    );\n  }\n\n  function getFEMs() {\n    return chunk(\n      valueWithIndex(fems).map((v) => ({ ...v, updater: setFems })),\n      2\n    );\n  }\n\n  function calculateRows() {\n    let lastRow = fems;\n    const rows = [];\n    let action = balance;\n\n    for (let i = 0; i < precision; i++) {\n      rows.push(action(lastRow, dfs));\n      action = action === balance ? carryOver : balance;\n      lastRow = rows[rows.length - 1];\n    }\n\n    return rows;\n  }\n\n  function tidyResult(row) {\n    function tidyDigit(digit) {\n      if (digit === -0) digit = 0;\n\n      return round(digit, 4);\n    }\n\n    return chunk(row.map(tidyDigit), 2);\n  }\n\n  function rowsAddition() {\n    const rows = calculateRows();\n    const sum = fems.map((fem, i) => {\n      let sum = 0;\n      sum += parseFloat(fem);\n      rows.forEach((row) => {\n        sum += row[i];\n      });\n\n      return round(sum, 4);\n    });\n    return chunk(sum, 2);\n  }\n\n  function handleChange(v, e) {\n    v.updater((prevValue) => {\n      prevValue[v.index] = e.target.value;\n      return [...prevValue];\n    });\n  }\n\n  function addJoint() {\n    setDfs((dfs) => {\n      return produce(dfs, (draft) => {\n        draft.splice(1, 0, 0.5, 0.5);\n      });\n    });\n    setFems((fems) => {\n      return produce(fems, (draft) => {\n        draft.splice(1, 0, 0, 0);\n      });\n    });\n  }\n\n  function reset() {\n    setDfs([...initialDFS]);\n    setFems([...initialFEMS]);\n    setPrecision(initialPrecision);\n  }\n\n  function addPrec() {\n    setPrecision(precision + 1);\n  }\n  function removePrec() {\n    if (precision === 2) return;\n    setPrecision(precision - 1);\n  }\n\n  return (\n    <globalContext.Provider\n      value={{\n        getDFs,\n        getFEMs,\n        handleChange,\n        dfs,\n        fems,\n        rows: chain(calculateRows()).map(tidyResult).value(),\n        sum: rowsAddition(),\n      }}\n    >\n      <main>\n        <Box my={4} textAlign=\"center\">\n          <ButtonGroup color=\"primary\">\n            <Button onClick={addJoint}>Add Joint</Button>\n            <Button onClick={reset}>Reset</Button>\n            <Button onClick={addPrec}>Add precision</Button>\n            <Button onClick={removePrec}>Reduce precision</Button>\n          </ButtonGroup>\n        </Box>\n        <Table />\n      </main>\n    </globalContext.Provider>\n  );\n}\n\nexport default MDT;\n","import AppBar from \"@material-ui/core/AppBar\";\nimport Box from \"@material-ui/core/Box\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport PropTypes from \"prop-types\";\nimport React from \"react\";\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box p={3}>{children}</Box>}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nexport default function SimpleTabs({ tabs }) {\n  tabs = tabs || [{ label: \"Item 1\", content: <div>Hello There</div> }];\n\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <div className={classes.root}>\n      <AppBar position=\"static\">\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          aria-label=\"simple tabs example\"\n        >\n          {tabs.map((tab, i) => (\n            <Tab label={tab.label} {...a11yProps(i)} />\n          ))}\n        </Tabs>\n      </AppBar>\n      {tabs.map((tab, i) => (\n        <TabPanel value={value} index={i} key={tab.label}>\n          {tab.content}\n        </TabPanel>\n      ))}\n    </div>\n  );\n}\n","import { reverse } from \"lodash\";\n\nexport function calculateInertia(width, depth) {\n  return (1 / 12) * width * Math.pow(depth, 3);\n}\nexport function calculateStiffness({ width, depth, length }) {\n  return (4 * calculateInertia(width, depth)) / length;\n}\n\nexport function printStiffness(args) {\n  return `${Math.ceil(calculateStiffness(args))}E`;\n}\n\nexport function calculateDF(stiffness) {\n  const colStiffness = stiffness.find((f) => f.type === \"column\").sf;\n  let beams = stiffness.filter((f) => f.type === \"beam\");\n\n  function reducer(acc, curr, i) {\n    let df = curr.sf;\n    df /= 2 * colStiffness + curr.sf + (i === 0 ? 0 : beams[i - 1].sf);\n    acc[curr.name] = df;\n    return acc;\n  }\n\n  const leftToRight = beams.reduce(reducer, {});\n\n  beams = reverse(beams).map((b) => ({\n    ...b,\n    name: b.name.split(\"\").reverse().join(\"\"),\n  }));\n\n  const rightToLeft = beams.reduce(reducer, {});\n\n  return {\n    ...leftToRight,\n    ...rightToLeft,\n  };\n}\n","import React from \"react\";\nimport {\n  calculateDF,\n  calculateInertia,\n  calculateStiffness,\n} from \"../functions/stiffnessCalc\";\nimport \"./SFDFCalculationShow.scss\";\n\nexport default function SFDFCalculationShow({ inputs, beamLengths }) {\n  inputs = inputs.reduce((acc, curr) => {\n    acc[curr.name] = curr.value;\n    return acc;\n  }, {});\n\n  let stiffness = beamLengths.map((beam, i) => {\n    return {\n      ...beam,\n      name: String.fromCharCode(65 + i) + String.fromCharCode(65 + i + 1),\n      sf: calculateStiffness({\n        width: inputs[\"beam-width\"],\n        length: beam.value,\n        depth: inputs[\"beam-depth\"],\n      }),\n      type: \"beam\",\n    };\n  });\n\n  stiffness = [\n    {\n      id: \"col\",\n      type: \"column\",\n      name: \"Column\",\n      sf: calculateStiffness({\n        width: inputs[\"col-width\"],\n        length: inputs[\"floor-height\"],\n        depth: inputs[\"col-depth\"],\n      }),\n    },\n    ...stiffness,\n  ];\n\n  const dfs = calculateDF(stiffness);\n\n  return (\n    <>\n      <div className=\"show-set\">\n        <h2 className=\"heading\">Moment of Inertia</h2>\n        <div>\n          <div className=\"group\">\n            <div className=\"title\">Beam</div>\n            <div>\n              {calculateInertia(\n                inputs[\"beam-width\"],\n                inputs[\"beam-depth\"]\n              ).toExponential(2)}\n            </div>\n          </div>\n          <div className=\"group\">\n            <div className=\"title\">Column</div>\n            <div>\n              {calculateInertia(\n                inputs[\"col-width\"],\n                inputs[\"col-depth\"]\n              ).toExponential(2)}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"show-set\">\n        <h2 className=\"heading\">Stiffness</h2>\n        <div>\n          {stiffness.map((s) => (\n            <div className=\"group\" key={s.id}>\n              <div className=\"title\">{s.name}</div>\n              <div>{Math.ceil(s.sf)}E</div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"show-set\">\n        <h2 className=\"heading\">Distribution Factor</h2>\n        <div>\n          {Object.keys(dfs).map((b) => (\n            <div className=\"group\" key={b}>\n              <div className=\"title\">{b}</div>\n              <div>{dfs[b]}</div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </>\n  );\n}\n","import { Button, ButtonGroup } from \"@material-ui/core\";\nimport React, { Fragment, useState } from \"react\";\nimport { generate } from \"shortid\";\nimport SFDFCalculationShow from \"./SFDFCalculationShow\";\nimport \"./Stiffness.scss\";\n\nfunction nextChar(c, at) {\n  return String.fromCharCode(c.charCodeAt(0) + at || 1);\n}\n\nfunction InputGroup({ onChange, name, value, label }) {\n  return (\n    <div className=\"input-group\">\n      <label htmlFor={name}>{label || name} </label>\n      <input\n        type=\"text\"\n        value={value}\n        onChange={onChange.bind(null, name)}\n        name={name}\n      />\n      <span>mm</span>\n    </div>\n  );\n}\n\nfunction NodeLine({ name }) {\n  return (\n    <div className=\"node-line\">\n      <div className=\"v-line\" />\n      <div className=\"node-name\">{name || \"--\"}</div>\n      <div className=\"v-line\" />\n    </div>\n  );\n}\n\nfunction Beam({ onChange, beam }) {\n  return (\n    <div className=\"beam\">\n      <input\n        type=\"text\"\n        className=\"beam-input\"\n        onChange={onChange.bind(null, beam)}\n        value={beam.value}\n      />\n      <div className=\"beam-line\"></div>\n    </div>\n  );\n}\n\nexport default function Stiffness() {\n  const [inputs, setInputs] = useState([\n    {\n      name: \"floor-height\",\n      value: 3300,\n    },\n    {\n      name: \"beam-width\",\n      value: 300,\n    },\n    {\n      name: \"beam-depth\",\n      value: 500,\n    },\n    {\n      name: \"col-width\",\n      value: 400,\n    },\n    {\n      name: \"col-depth\",\n      value: 400,\n    },\n  ]);\n\n  const [beamLengths, setBeamLengths] = useState(setDiagramFor(3));\n  function setDiagramFor(n) {\n    return [...Array(n)].map(() => ({\n      id: generate(),\n      value: 3000,\n    }));\n  }\n\n  function getSpanCount() {\n    return beamLengths.length;\n  }\n\n  function handleBeamInputChange(beam, e) {\n    const bl = beamLengths.find((f) => f.id === beam.id);\n    bl.value = e.target.value;\n    setBeamLengths([...beamLengths]);\n  }\n\n  function handleInputChange(name, e) {\n    const field = inputs.find((f) => f.name === name);\n    field.value = e.target.value;\n    setInputs([...inputs]);\n    if (field.name === \"span-count\") {\n      const newSpanCount = parseInt(e.target.value) || 1;\n      setBeamLengths(setDiagramFor(newSpanCount));\n    }\n  }\n\n  function increaseSpan() {\n    setBeamLengths([...beamLengths, ...setDiagramFor(1)]);\n  }\n  function decreaseSpan() {\n    const newCount = getSpanCount() - 1;\n    if (newCount !== 0)\n      setBeamLengths((b) => {\n        b.pop();\n        return [...b];\n      });\n  }\n\n  return (\n    <div className=\"stiffness\">\n      <ButtonGroup variant=\"contained\" className=\"btn-grp\">\n        <Button onClick={increaseSpan}>Increase Span Count</Button>\n        <Button onClick={decreaseSpan}>Decrease Span Count</Button>\n      </ButtonGroup>\n\n      {inputs.map((input) => (\n        <InputGroup key={input.name} {...input} onChange={handleInputChange} />\n      ))}\n\n      <div className=\"diagram\">\n        {beamLengths.map((bl, i) => (\n          <Fragment key={bl.id}>\n            <NodeLine name={nextChar(\"A\", i)} />\n            <Beam beam={bl} onChange={handleBeamInputChange} />\n          </Fragment>\n        ))}\n        <NodeLine name={nextChar(\"A\", getSpanCount())} />\n      </div>\n      <SFDFCalculationShow inputs={inputs} beamLengths={beamLengths} />\n    </div>\n  );\n}\n","import { Container } from \"@material-ui/core\";\nimport React from \"react\";\nimport \"./App.css\";\nimport MDT from \"./components/MDT\";\nimport SimpleTabs from \"./components/SimpleTabs\";\nimport Stiffness from \"./components/Stiffness\";\n\nexport const globalContext = React.createContext({});\n\nexport default function App() {\n  return (\n    <Container maxWidth=\"lg\">\n      <SimpleTabs\n        tabs={[\n          { label: \"Moment Distribution Table\", content: <MDT /> },\n          { label: \"SF & DF\", content: <Stiffness /> },\n        ]}\n      />\n    </Container>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}