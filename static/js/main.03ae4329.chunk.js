(this["webpackJsonpmoment-distribution-table"]=this["webpackJsonpmoment-distribution-table"]||[]).push([[0],{71:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),r=n.n(a),i=n(10),s=n.n(i),l=n(128),j=(n(71),n(17)),u=n(12),o=n(20),b=n(130),d=n(124),h=n(90),O=n(47),m=n(13);function f(e){return e.reduce((function(e,t){return e+parseFloat(t)}),0)}function v(e,t){e=Object(m.chunk)([0].concat(Object(j.a)(e),[0]),2),t=Object(m.chunk)([0].concat(Object(j.a)(t),[0]),2);var n=[];return e.forEach((function(e,c){var a=t[c][0],r=t[c][1],i=a*f(e)*-1,s=r*f(e)*-1;n.push([i,s])})),Object(m.slice)(Object(m.flattenDeep)(n),1,Object(m.flattenDeep)(n).length-1)}function x(e){return Object(m.chain)(e).chunk(2).map((function(e){var t=e[0];return[e[1]/2,t/2]})).flatMapDeep().value()}var p=n(129);var g=function(e){var t=e.valueArr,n=Object(a.useContext)(K).handleChange;return Object(c.jsx)("td",{children:Object(c.jsx)("div",{className:"t-cell",children:t.map((function(e,t){return Object(c.jsx)("div",{children:Object(c.jsx)(p.a,{type:"text",value:e.value,onChange:n.bind(null,e),variant:"outlined",size:"small"})},e+t)}))})})};function C(e){var t=e.valueArr;return Object(c.jsx)("td",{children:Object(c.jsx)("div",{className:"t-cell",children:t.map((function(e,n){return Object(c.jsx)("div",{children:e},t+n)}))})})}function N(){var e=Object(a.useContext)(K),t=e.rows,n=e.sum;return Object(c.jsxs)(c.Fragment,{children:[t.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"left-heading",children:(n=t,n%2===0?"Balance":"Carry Over")}),e.map((function(e){return Object(c.jsx)(C,{valueArr:e})}))]});var n})),Object(c.jsxs)("tr",{className:"sum",children:[Object(c.jsx)("td",{children:"Sum"}),n.map((function(e,t){return Object(c.jsx)(C,{valueArr:e})}))]})]})}function k(){var e=Object(a.useContext)(K),t=e.getDFs,n=e.getFEMs;return Object(c.jsx)("table",{children:Object(c.jsxs)("tbody",{children:[Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"left-heading",children:"Distribution Factor"}),t().map((function(e,t){return Object(c.jsx)(g,{valueArr:e},t)}))]}),Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{className:"left-heading",children:"FEM"}),n().map((function(e,t){return Object(c.jsx)(g,{valueArr:e},t)}))]}),Object(c.jsx)(N,{})]})})}var w=[0,0,0,0,0,0],y=[0,.5,.5,.5,.5,0];var F=function(){var e=Object(a.useState)(y),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(w),s=Object(o.a)(i,2),l=s[0],f=s[1],p=Object(a.useState)(5),g=Object(o.a)(p,2),C=g[0],N=g[1];function F(e){return e.map((function(e,t){return{index:t,value:e}}))}function S(){for(var e=l,t=[],c=v,a=0;a<C;a++)t.push(c(e,n)),c=c===v?x:v,e=t[t.length-1];return t}return Object(c.jsx)(K.Provider,{value:{getDFs:function(){return Object(m.chunk)(F(n).map((function(e){return Object(u.a)(Object(u.a)({},e),{},{updater:r})})),2)},getFEMs:function(){return Object(m.chunk)(F(l).map((function(e){return Object(u.a)(Object(u.a)({},e),{},{updater:f})})),2)},handleChange:function(e,t){e.updater((function(n){return n[e.index]=t.target.value,Object(j.a)(n)}))},dfs:n,fems:l,rows:Object(m.chain)(S()).map((function(e){return Object(m.chunk)(e.map((function(e){return-0===e&&(e=0),Object(m.round)(e,4)})),2)})).value(),sum:function(){var e=S(),t=l.map((function(t,n){var c=0;return c+=parseFloat(t),e.forEach((function(e){c+=e[n]})),Object(m.round)(c,4)}));return Object(m.chunk)(t,2)}()},children:Object(c.jsxs)("main",{children:[Object(c.jsx)(b.a,{my:4,textAlign:"center",children:Object(c.jsxs)(d.a,{color:"primary",children:[Object(c.jsx)(h.a,{onClick:function(){r((function(e){return Object(O.a)(e,(function(e){e.splice(1,0,.5,.5)}))})),f((function(e){return Object(O.a)(e,(function(e){e.splice(1,0,0,0)}))}))},children:"Add Joint"}),Object(c.jsx)(h.a,{onClick:function(){r([].concat(y)),f([].concat(w)),N(5)},children:"Reset"}),Object(c.jsx)(h.a,{onClick:function(){N(C+1)},children:"Add precision"}),Object(c.jsx)(h.a,{onClick:function(){2!==C&&N(C-1)},children:"Reduce precision"})]})}),Object(c.jsx)(k,{})]})})},S=n(55),A=n(126),D=n(125),E=n(127),M=n(131);function I(e){var t=e.children,n=e.value,a=e.index,r=Object(S.a)(e,["children","value","index"]);return Object(c.jsx)("div",Object(u.a)(Object(u.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(c.jsx)(b.a,{p:3,children:t})}))}var B=Object(D.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper}}}));function J(e){var t=e.tabs;t=t||[{label:"Item 1",content:Object(c.jsx)("div",{children:"Hello There"})}];var n=B(),a=r.a.useState(0),i=Object(o.a)(a,2),s=i[0],l=i[1];return Object(c.jsxs)("div",{className:n.root,children:[Object(c.jsx)(A.a,{position:"static",children:Object(c.jsx)(M.a,{value:s,onChange:function(e,t){l(t)},"aria-label":"simple tabs example",children:t.map((function(e,t){return Object(c.jsx)(E.a,Object(u.a)({label:e.label},{id:"simple-tab-".concat(n=t),"aria-controls":"simple-tabpanel-".concat(n)}));var n}))})}),t.map((function(e,t){return Object(c.jsx)(I,{value:s,index:t,children:e.content},e.label)}))]})}var L=n(54);function R(e,t){return 1/12*e*Math.pow(t,3)}function T(e){var t=e.width,n=e.depth,c=e.length;return 4*R(t,n)/c}n(85);function z(e){var t=e.inputs,n=e.beamLengths;t=t.reduce((function(e,t){return e[t.name]=t.value,e}),{});var a=n.map((function(e,n){return Object(u.a)(Object(u.a)({},e),{},{name:String.fromCharCode(65+n)+String.fromCharCode(65+n+1),sf:T({width:t["beam-width"],length:e.value,depth:t["beam-depth"]}),type:"beam"})})),r=function(e){var t=e.find((function(e){return"column"===e.type})).sf,n=e.filter((function(e){return"beam"===e.type}));function c(e,c,a){var r=c.sf;return r/=2*t+c.sf+(0===a?0:n[a-1].sf),e[c.name]=r,e}var a=n.reduce(c,{}),r=(n=Object(m.reverse)(n).map((function(e){return Object(u.a)(Object(u.a)({},e),{},{name:e.name.split("").reverse().join("")})}))).reduce(c,{});return Object(u.a)(Object(u.a)({},a),r)}(a=[{id:"col",type:"column",name:"Column",sf:T({width:t["col-width"],length:t["floor-height"],depth:t["col-depth"]})}].concat(Object(j.a)(a)));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("div",{className:"show-set",children:[Object(c.jsx)("h2",{className:"heading",children:"Moment of Inertia"}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"group",children:[Object(c.jsx)("div",{className:"title",children:"Beam"}),Object(c.jsx)("div",{children:R(t["beam-width"],t["beam-depth"]).toExponential(2)})]}),Object(c.jsxs)("div",{className:"group",children:[Object(c.jsx)("div",{className:"title",children:"Column"}),Object(c.jsx)("div",{children:R(t["col-width"],t["col-depth"]).toExponential(2)})]})]})]}),Object(c.jsxs)("div",{className:"show-set",children:[Object(c.jsx)("h2",{className:"heading",children:"Stiffness"}),Object(c.jsx)("div",{children:a.map((function(e){return Object(c.jsxs)("div",{className:"group",children:[Object(c.jsx)("div",{className:"title",children:e.name}),Object(c.jsxs)("div",{children:[Math.ceil(e.sf),"E"]})]},e.id)}))})]}),Object(c.jsxs)("div",{className:"show-set",children:[Object(c.jsx)("h2",{className:"heading",children:"Distribution Factor"}),Object(c.jsx)("div",{children:Object.keys(r).map((function(e){return Object(c.jsxs)("div",{className:"group",children:[Object(c.jsx)("div",{className:"title",children:e}),Object(c.jsx)("div",{children:r[e]})]},e)}))})]})]})}n(86);function G(e,t){return String.fromCharCode(e.charCodeAt(0)+t||1)}function H(e){var t=e.onChange,n=e.name,a=e.value,r=e.label;return Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsxs)("label",{htmlFor:n,children:[r||n," "]}),Object(c.jsx)("input",{type:"text",value:a,onChange:t.bind(null,n),name:n}),Object(c.jsx)("span",{children:"mm"})]})}function P(e){var t=e.name;return Object(c.jsxs)("div",{className:"node-line",children:[Object(c.jsx)("div",{className:"v-line"}),Object(c.jsx)("div",{className:"node-name",children:t||"--"}),Object(c.jsx)("div",{className:"v-line"})]})}function W(e){var t=e.onChange,n=e.beam;return Object(c.jsxs)("div",{className:"beam",children:[Object(c.jsx)("input",{type:"text",className:"beam-input",onChange:t.bind(null,n),value:n.value}),Object(c.jsx)("div",{className:"beam-line"})]})}function q(){var e=Object(a.useState)([{name:"floor-height",value:3300},{name:"beam-width",value:300},{name:"beam-depth",value:500},{name:"col-width",value:400},{name:"col-depth",value:400}]),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(O(3)),s=Object(o.a)(i,2),l=s[0],b=s[1];function O(e){return Object(j.a)(Array(e)).map((function(){return{id:Object(L.generate)(),value:3e3}}))}function m(){return l.length}function f(e,t){l.find((function(t){return t.id===e.id})).value=t.target.value,b(Object(j.a)(l))}function v(e,t){var c=n.find((function(t){return t.name===e}));if(c.value=t.target.value,r(Object(j.a)(n)),"span-count"===c.name){var a=parseInt(t.target.value)||1;b(O(a))}}return Object(c.jsxs)("div",{className:"stiffness",children:[Object(c.jsxs)(d.a,{variant:"contained",className:"btn-grp",children:[Object(c.jsx)(h.a,{onClick:function(){b([].concat(Object(j.a)(l),Object(j.a)(O(1))))},children:"Increase Span Count"}),Object(c.jsx)(h.a,{onClick:function(){0!==m()-1&&b((function(e){return e.pop(),Object(j.a)(e)}))},children:"Decrease Span Count"})]}),n.map((function(e){return Object(c.jsx)(H,Object(u.a)(Object(u.a)({},e),{},{onChange:v}),e.name)})),Object(c.jsxs)("div",{className:"diagram",children:[l.map((function(e,t){return Object(c.jsxs)(a.Fragment,{children:[Object(c.jsx)(P,{name:G("A",t)}),Object(c.jsx)(W,{beam:e,onChange:f})]},e.id)})),Object(c.jsx)(P,{name:G("A",m())})]}),Object(c.jsx)(z,{inputs:n,beamLengths:l})]})}var K=r.a.createContext({});function Q(){return Object(c.jsx)(l.a,{maxWidth:"lg",children:Object(c.jsx)(J,{tabs:[{label:"Moment Distribution Table",content:Object(c.jsx)(F,{})},{label:"SF & DF",content:Object(c.jsx)(q,{})}]})})}s.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(Q,{})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.03ae4329.chunk.js.map